<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WhoGoon?</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #111;
        color: white;
        text-align: center;
        margin: 0;
        padding: 0;
    }
    h1 {
        margin-top: 30px;
    }
    button {
        padding: 20px 40px;
        font-size: 1.5rem;
        background-color: #ff4081;
        border: none;
        border-radius: 10px;
        color: white;
        cursor: pointer;
        margin-top: 40px;
    }
    button:hover {
        background-color: #e91e63;
    }
    .stats {
        margin-top: 30px;
        font-size: 1.2rem;
    }
    .twitter-link {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #1da1f2;
        border-radius: 50px;
        padding: 15px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(29, 161, 242, 0.3);
    }
    .twitter-link:hover {
        background-color: #0d8bd9;
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(29, 161, 242, 0.4);
    }
    .twitter-icon {
        width: 30px;
        height: 30px;
        fill: white;
        display: block;
    }

    /* Stickman style */
    .stickman-section {
        display: flex;
        justify-content: center;
        margin-top: 200px;
        margin-bottom: 100px;
    }
    .stickman-wrap {
        --size: 240px;
        --speed: 1.2s;
        --stroke: #fff;
        color: var(--stroke);
        width: var(--size);
        max-width: 100%;
    }
    .stickman {
        display: block;
        overflow: visible;
    }
    @keyframes arm-swing {
        0%   { transform: rotate(0deg); }
        25%  { transform: rotate(35deg); }
        50%  { transform: rotate(75deg); }
        75%  { transform: rotate(35deg); }
        100% { transform: rotate(0deg); }
    }
    #forearm {
        transform-origin: 125px 100px;
        animation: arm-swing var(--speed) ease-in-out infinite;
    }
    .stickman-wrap:hover #forearm {
        animation-duration: 2s;
    }
    .stickman-wrap::after {
        content: "";
        display: block;
        width: 90px;
        height: 12px;
        margin: -18px auto 0;
        border-radius: 50%;
        background: radial-gradient(closest-side, rgba(0,0,0,.3), transparent 70%);
        filter: blur(2px);
    }
</style>
</head>
<body>
    <h1>Goon-Radar</h1>
    <button id="sessionBtn">I have gooned :) </button>
    <div class="stats">
        <p id="count">Total goons accomplished: 0</p>
        <p id="volume">Jizz Volume: 0 L</p>
    </div>

    <!-- Stickman placerad här -->
    <div class="stickman-section">
      <div class="stickman-wrap" aria-label="Animerad streckgubbe som för armen mellan benen">
        <svg class="stickman" viewBox="0 0 200 240" width="240" height="288" role="img">
          <!-- Huvud -->
          <circle cx="100" cy="40" r="18" stroke="currentColor" stroke-width="4" fill="none"/>
          <!-- Kropp -->
          <line x1="100" y1="58" x2="100" y2="130" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
          <!-- Ben -->
          <line x1="100" y1="130" x2="75" y2="190" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
          <line x1="100" y1="130" x2="125" y2="190" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
          <!-- Vänster arm -->
          <line x1="100" y1="85" x2="65" y2="110" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
          <!-- Höger axel & överarm -->
          <circle id="shoulder" cx="100" cy="85" r="0.5" fill="transparent"/>
          <line x1="100" y1="85" x2="125" y2="100" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
          <!-- Höger underarm + hand -->
          <g id="forearm" transform="rotate(0 125 100)">
            <line x1="125" y1="100" x2="165" y2="135" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
            <circle cx="165" cy="135" r="5" fill="currentColor"/>
          </g>
        </svg>
      </div>
    </div>

    <!-- Twitter Link -->
    <a href="https://x.com/goonradar" target="_blank" class="twitter-link" title="Follow @goonradar on X">
        <svg class="twitter-icon" viewBox="0 0 24 24">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
    </a>

    <!-- Firebase SDK -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-database-compat.min.js"></script>
    <script>
        try {
            const firebaseConfig = {
                apiKey: "AIzaSyBGWWTMAxPUbcfGB2z4o6TyFnAcSzCtHAg",
                authDomain: "goon-radar.firebaseapp.com",
                databaseURL: "https://goon-radar-default-rtdb.firebaseio.com",
                projectId: "goon-radar",
                storageBucket: "goon-radar.firebasestorage.app",
                messagingSenderId: "694923915715",
                appId: "1:694923915715:web:e3a0fc88b76d9d5f248d76",
                measurementId: "G-YSQVL9B3E0"
            };
            
            firebase.initializeApp(firebaseConfig);
            const db = firebase.database();
            const sessionBtn = document.getElementById('sessionBtn');
            const countEl = document.getElementById('count');
            const volumeEl = document.getElementById('volume');
            
            const statsRef = db.ref('stats');
            statsRef.on('value', snapshot => {
                const data = snapshot.val() || { count: 0, volume: 0 };
                countEl.textContent = `Total sessions today: ${data.count}`;
                volumeEl.textContent = `Total volume: ${data.volume.toFixed(2)} L`;
            }, error => {
                console.error('Error reading data:', error);
                countEl.textContent = 'Error loading data';
                volumeEl.textContent = 'Error loading data';
            });
            
            sessionBtn.addEventListener('click', () => {
                const oath = confirm("I swear on Orangies life that I have gooned!");
                if (!oath) return;
                
                statsRef.get().then(snapshot => {
                    const data = snapshot.val() || { count: 0, volume: 0 };
                    const newCount = (data.count || 0) + 1;
                    const avgVolumePerSession = 0.0065;
                    const newVolume = (data.volume || 0) + avgVolumePerSession;
                    return statsRef.set({ count: newCount, volume: newVolume });
                }).catch(error => {
                    console.error('Error updating data:', error);
                    alert('Error updating data. Please try again.');
                });
            });
            
        } catch (error) {
            console.error('Firebase initialization error:', error);
            document.getElementById('count').textContent = 'Firebase connection error';
            document.getElementById('volume').textContent = 'Check console for details';
        }
    </script>
</body>
</html>
